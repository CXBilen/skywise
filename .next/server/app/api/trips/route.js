(()=>{var e={};e.id=966,e.ids=[966],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},6641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>T,routeModule:()=>c,serverHooks:()=>v,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var i={};r.r(i),r.d(i,{GET:()=>d,POST:()=>p});var a=r(2706),s=r(8203),n=r(5994),o=r(9187);let u=[{id:"trip_1",status:"confirmed",origin:"JFK",destination:"SFO",departureDate:"2025-01-21T11:30:00",returnDate:"2025-01-23T17:15:00",isRoundTrip:!0,totalPrice:57800,currency:"USD",source:"chat",flights:[{id:"flight_1",airline:"United",flightNumber:"UA 442",departureAirport:"JFK",arrivalAirport:"SFO",departureTime:"2025-01-21T11:30:00",arrivalTime:"2025-01-21T14:45:00",duration:375,stops:0,isOutbound:!0},{id:"flight_2",airline:"United",flightNumber:"UA 443",departureAirport:"SFO",arrivalAirport:"JFK",departureTime:"2025-01-23T17:15:00",arrivalTime:"2025-01-24T01:30:00",duration:315,stops:0,isOutbound:!1}],calendarEventIds:["cal_evt_1","cal_evt_2"],createdAt:"2025-01-15T10:00:00"},{id:"trip_2",status:"draft",origin:"JFK",destination:"LAX",departureDate:"2025-02-10T08:00:00",returnDate:null,isRoundTrip:!1,totalPrice:21900,currency:"USD",source:"email_import",flights:[{id:"flight_3",airline:"Delta",flightNumber:"DL 1247",departureAirport:"JFK",arrivalAirport:"LAX",departureTime:"2025-02-10T08:00:00",arrivalTime:"2025-02-10T11:15:00",duration:375,stops:0,isOutbound:!0}],calendarEventIds:[],createdAt:"2025-01-18T14:30:00"}];async function d(e){let{searchParams:t}=new URL(e.url),r=t.get("status"),i=parseInt(t.get("limit")||"10"),a=[...u];return r&&(a=a.filter(e=>e.status===r)),a=a.slice(0,i),o.NextResponse.json({success:!0,data:{trips:a}})}async function p(e){try{let{origin:t,destination:r,departureDate:i,returnDate:a,flights:s,addToCalendar:n}=await e.json();await new Promise(e=>setTimeout(e,1e3));let u={id:`trip_${Date.now()}`,status:"confirmed",origin:t,destination:r,departureDate:i,returnDate:a,isRoundTrip:!!a,totalPrice:s.reduce((e,t)=>e+t.price,0),currency:"USD",source:"chat",flights:s,calendarEventIds:n?s.map(()=>`cal_evt_${Date.now()}_${Math.random()}`):[],createdAt:new Date().toISOString()};return o.NextResponse.json({success:!0,data:{trip:u,calendarEventsCreated:n?u.calendarEventIds.length:0}})}catch(e){return o.NextResponse.json({success:!1,error:"Invalid request body"},{status:400})}}let c=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/trips/route",pathname:"/api/trips",filename:"route",bundlePath:"app/api/trips/route"},resolvedPagePath:"/Users/cxbilen/Documents/GitHub/skywise/app/api/trips/route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:v}=c;function T(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}},6487:()=>{},8335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[638,452],()=>r(6641));module.exports=i})();